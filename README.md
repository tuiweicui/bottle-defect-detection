# 瓶子印刷质量检测系统

一个基于计算机视觉和深度学习的瓶子印刷质量检测系统，用于自动识别各类印刷缺陷，包括字体缺失、模糊、油污、重影、变形和对比度不足等问题。

## 系统功能

- **实时检测**：连接工业相机实时检测瓶子印刷质量
- **离线批量检测**：批量处理存储的瓶子图像
- **结果管理**：检测结果存储到数据库，方便查询和分析
- **可视化显示**：直观展示检测结果，标记缺陷区域
- **参数调整**：提供丰富的参数设置，适应不同的检测需求

## 安装方法

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 安装Tesseract OCR引擎

- **Windows**: 
  - 从 [Tesseract官网](https://github.com/UB-Mannheim/tesseract/wiki) 下载安装包
  - 安装后添加到系统环境变量

- **Linux**: 
  ```bash
  sudo apt-get install tesseract-ocr
  sudo apt-get install libtesseract-dev
  ```

- **macOS**: 
  ```bash
  brew install tesseract
  ```

## 使用方法

### 启动程序

```bash
python main.py
```

### 使用实时检测

1. 在实时检测页面，选择摄像头ID
2. 点击"启动摄像头"按钮
3. 点击"开始检测"按钮
4. 系统会自动检测摄像头中的瓶子图像，并显示检测结果

### 查看历史记录

1. 切换到历史记录页面
2. 可以按日期、检测结果等条件筛选记录
3. 点击记录行的"查看详情"按钮，查看详细检测信息
4. 可以导出检测记录为CSV文件

### 调整系统设置

1. 切换到系统设置页面
2. 在不同的设置选项卡中调整参数
3. 点击"保存设置"按钮应用设置

## 系统架构

- **用户界面**：基于PyQt5的图形界面
- **检测引擎**：使用FastFlow异常检测模型
- **数据管理**：SQLite数据库存储检测结果
- **图像处理**：OpenCV处理图像和标记缺陷

## 注意事项

1. 训练模型时应只使用正常瓶子图像
2. 检测时的图像条件应尽量与训练集一致
3. 系统首次启动时会自动创建数据库
4. 异常图像会自动保存到指定目录

## 许可证

本项目采用[MIT许可证](LICENSE)。 